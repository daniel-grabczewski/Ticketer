<div class="ticket-form">
  <h2>Create a New Ticket</h2>
  <form (ngSubmit)="submitTicket()">
    <div>
      <label for="title">Title:</label>
      <input id="title" [(ngModel)]="title" name="title" required />
    </div>
    <div>
      <label for="description">Description:</label>
      <textarea
        id="description"
        [(ngModel)]="description"
        name="description"
        required
      ></textarea>
    </div>
    <button type="submit">Submit Ticket</button>
  </form>
</div>

<div class="ticket-list">
  <h2>Your Tickets</h2>
  <div *ngFor="let ticket of tickets">
    <div *ngIf="!ticket.isEditing">
      <h3>{{ ticket.title }}</h3>
      <p>{{ ticket.description }}</p>
      <p><small>Updated at: {{ ticket.updatedAt | date:'short' }}</small></p>
      <button (click)="toggleEditMode(ticket)">Edit</button>
      <button (click)="deleteTicket(ticket.id)">Delete</button>
    </div>
    <div *ngIf="ticket.isEditing">
      <input [(ngModel)]="ticket.title" name="editTitle" />
      <textarea [(ngModel)]="ticket.description" name="editDescription"></textarea>
      <button (click)="updateTicket(ticket)">Save</button>
      <button (click)="toggleEditMode(ticket)">Cancel</button>
    </div>
  </div>
</div>
