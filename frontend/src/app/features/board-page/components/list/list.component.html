<div class="list-container">
  <!-- List Title and Menu Button -->
  <div class="list-header">
    <input
      class="list-title"
      [(ngModel)]="name"
      (blur)="onRenameList(name)"
    />
    <button
      class="menu-button"
      (click)="toggleMenu(); $event.stopPropagation()"
    >
      â‹®
    </button>
  </div>

  <!-- Menu Component -->
  <div class="menu-wrapper" *ngIf="showMenu">
    <app-menu
      [menuConfig]="menuConfig"
      (menuAction)="handleMenuAction($event)"
      (close)="closeMenu()"
    ></app-menu>
  </div>

  <!-- Tickets Drag-and-Drop Container -->
  <div
    cdkDropList
    [cdkDropListData]="tickets"
    [cdkDropListConnectedTo]="connectedDropLists"
    [id]="cdkDropListId"
    class="ticket-list"
    (cdkDropListDropped)="onTicketDrop($event)"
  >
    <!-- Placeholder for Empty List -->
    <div *ngIf="tickets.length === 0" class="empty-list-placeholder">
      Drop tickets here
    </div>

    <ng-container *ngFor="let ticket of tickets; let i = index">
      <div
        cdkDrag
        [cdkDragData]="ticket"
        class="ticket-wrapper"
        (cdkDragStarted)="onDragStarted()"
        (cdkDragEnded)="onDragEnded()"
        (click)="onTicketClicked(ticket.id)"
      >
        <app-ticket
          [id]="ticket.id"
          [name]="ticket.name"
          [description]="ticket.description"
          [colorId]="ticket.colorId"
          [position]="ticket.position"
          [colorMap]="colorMap"
        ></app-ticket>
        <!-- Custom Placeholder -->
        <div *cdkDragPlaceholder class="ticket-placeholder"></div>
      </div>
    </ng-container>
      <!-- Add Ticket Section -->
  <div class="add-ticket-section">
    <ng-container *ngIf="!showCreateTicketSubmenu">
      <button class="add-ticket" (click)="onAddTicketButtonClick()">
        + Add a ticket
      </button>
    </ng-container>
    <ng-container *ngIf="showCreateTicketSubmenu">
      <app-create-board-item-submenu
        [placeholder]="'Enter ticket name...'"
        [buttonText]="'Add ticket'"
        (menuAction)="onCreateTicketSubmenuAction($event)"
        (close)="onCreateTicketSubmenuClose()"
      ></app-create-board-item-submenu>
    </ng-container>
  </div>
  </div>
</div>
