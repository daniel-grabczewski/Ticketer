<div class="board-page-container" [ngStyle]="getBackgroundStyle()" cdkDropListGroup *ngIf="boardDetails">
  <!-- Board Header -->
  <div class="board-header">
    <div class="board-header-inner-container">
      <!-- Board Name -->
      <div class="board-name">
        <ng-container *ngIf="!isRenamingBoard">
          <h1 (click)="enableBoardRenaming($event)">{{ boardDetails?.name }}</h1>
        </ng-container>
        <ng-container *ngIf="isRenamingBoard">
          <input
            id="board-name-input"
            type="text"
            [(ngModel)]="newBoardName"
            (blur)="saveBoardName()"
            (click)="$event.stopPropagation()"
          />
        </ng-container>
      </div>
      <!-- Menu Button -->
      <button
        id="board-menu-button"
        class="menu-button"
        (click)="openMenuOverlay($event)"
      >
        â‹® menu
      </button>
    </div>
  </div>

  <!-- List -->
    <div
      cdkDropList
      class="list-container"
      (cdkDropListDropped)="onListDrop($event)"
      [cdkDropListData]="boardDetails.lists"
      cdkDropListOrientation="horizontal"
    >
      <div *ngFor="let list of boardDetails.lists; let i = index" cdkDrag>
        <app-list
          [id]="list.id"
          [name]="list.name"
          [position]="list.position"
          [tickets]="list.tickets"
          [colorMap]="colorMap"
          [connectedDropLists]="listIds"
          [boardNameSlug]="boardNameSlug"
          [boardId]="boardDetails.id"
          (ticketPositionChanged)="onTicketPositionChanged($event)"
          (listRenamed)="onListRenamed($event)"
          (listDuplicated)="onListDuplicated($event)"
          (listDeleted)="onListDeleted($event)"
          (ticketCreated)="onTicketCreated($event)"
        ></app-list>
      </div>

      <!-- Add List Section -->
      <div class="add-list-section">
        <ng-container *ngIf="!showCreateListSubmenu">
          <button class="add-list-button" (click)="onAddListButtonClick()">
            + Add another list
          </button>
        </ng-container>
        <ng-container *ngIf="showCreateListSubmenu">
          <app-create-board-item-submenu
            [placeholder]="'Enter list name...'"
            [buttonText]="'Add list'"
            (menuAction)="onCreateListSubmenuAction($event)"
            (close)="onCreateListSubmenuClose()"
          ></app-create-board-item-submenu>
        </ng-container>
      </div>
    </div>
  <router-outlet></router-outlet>
</div>
